<html>
<head>
    <title>Open Weather Map</title>
    <script src="http://openlayers.org/api/OpenLayers.js"></script>
    <script src="http://openweathermap.org/js/OWM.OpenLayers.1.3.4.js"></script>
</head>
<body onload="init()">
    <div id="basicMap"></div>
</body>

<script type="text/javascript">
   

    function init() {
        var map;

        //Center of map
        var lat = 51.5112139; // <--- some dynamic location
        var lon = -0.1198244; //<--- some dynamic location
        var map = new OpenLayers.Map("basicMap");
        var fromProjection = new OpenLayers.Projection("EPSG:4326");   // Transform from WGS 1984
        var toProjection = new OpenLayers.Projection("EPSG:900913"); // to Spherical Mercator Projection
        var position = new OpenLayers.LonLat(lon, lat).transform(fromProjection, toProjection);
    
        // Create overlays
        //  OSM
        var mapnik = new OpenLayers.Layer.OSM();
        // Stations
        var stations = new OpenLayers.Layer.Vector.OWMStations("Stations");
        // Current weather
        var city = new OpenLayers.Layer.Vector.OWMWeather("Weather");
        //Addind maps
        map.addLayers([mapnik, city]);
        map.setCenter(position, 10);
        
       
    }

    function setStats(lat, lon) {
        
        var fromProjection = new OpenLayers.Projection("EPSG:4326");   // Transform from WGS 1984
        var toProjection = new OpenLayers.Projection("EPSG:900913"); // to Spherical Mercator Projection
        var position = new OpenLayers.LonLat(lon, lat).transform(fromProjection, toProjection);
        var m = new OpenLayers.Map("basicMap");
        m.setCenter(position, 10);
    
    }
   
    
</script>
</html>